(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t){e.exports="data:image/png;base64,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"},32:function(e,t,n){e.exports=n.p+"static/media/bullet_hole_small.e787968a.png"},35:function(e,t,n){e.exports=n(68)},65:function(e,t){},68:function(e,t,n){"use strict";n.r(t);var o,a=n(0),s=n.n(a),r=n(26),i=n.n(r),c=n(27),u=n(28),l=n(33),h=n(29),f=n(34),d=n(30);o=n.n(d)()();var A=function(e){o.emit("mousePosition",e)},g=function(e){o.emit("mouseClickPosition",e)},v=function(e,t){var n=new Image;n.src=e,n.onload=function(){t(n)}},m=n(31),w=n.n(m),C=n(32),M=n.n(C),p=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(h.a)(t).call(this,e))).handleMouseDown=function(e){var t=n.getMousePosition(e);g(t)},n.startTrackingMousePos=function(){console.log("Start tracking"),n.canvas.addEventListener("mousemove",n.updateMyMousePosition,!1),n.setState({sendToServer:setInterval(n.sendMousePosToServer,n.state.updateFrequency)})},n.stopTrackingMousePos=function(){console.log("Stop tracking"),n.canvas.removeEventListener("mousemove",n.updateMyMousePosition,!1),n.setState({sendToServer:clearInterval(n.state.sendToServer)})},n.getMousePosition=function(e){var t=e.clientX,o=e.clientY,a=n.canvas.getBoundingClientRect(),s=(n.canvas.width,a.width);n.canvas.height,a.height;return s=1,{x:(t-a.left)*s,y:1*(o-a.top)}},n.updateMyMousePosition=function(e){n.setState({myCursorPos:n.getMousePosition(e)})},n.sendMousePosToServer=function(){A(n.state.myCursorPos)},n.renderCrosshairs=function(){var e=n.state,t=e.players,o=e.crosshairIMG,a=e.canvasContext,s=o.width,r=o.height;t.map(function(e,t){if(!e.position)return null;var n=e.position,i=n.x,c=n.y;a.drawImage(o,i-s/2,c-r/2)})},n.renderBulletHoles=function(){var e=n.state,t=e.bulletHoles,o=e.canvasContext,a=e.bulletHoleIMG,s=a.width,r=a.height;t.map(function(e,t){var n=e.position,i=n.x,c=n.y;o.drawImage(a,i-s/2,c-r/2)})},n.renderTarget=function(){var e=n.state,t=e.canvasContext,o=e.target;if(o&&t){var a=o.position,s=o.radius;t.fillStyle="#FF0000",t.beginPath(),t.arc(a.x,a.y,s,0,2*Math.PI),t.stroke(),t.fill()}},n.state={myID:"",players:[],bulletHoles:[],scoreboard:[],target:null,myCursorPos:{x:0,y:0},sendToServer:null,updateFrequency:1e3/120,canvasContext:null,crosshairIMG:new Image,bulletHoleIMG:new Image},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;e=function(e){t.setState({players:e})},o.on("newMousePositions",function(t){return e(t)}),function(e){o.on("shotsFired",function(t){return e(t)})}(function(e){t.setState({bulletHoles:e})}),function(e){o.on("newTarget",function(t){return e(t)})}(function(e){t.setState({target:e})}),function(e){o.on("scoreboard",function(t){return e(t)})}(function(e){t.setState({scoreboard:e})}),function(e){o.on("myID",function(t){return e(t)})}(function(e){t.setState({myID:e})}),this.setState({canvasContext:this.canvas.getContext("2d")}),v(w.a,function(e){t.setState({crosshairIMG:e})}),v(M.a,function(e){t.setState({bulletHoleIMG:e})}),this.canvas&&(this.canvas.width=1152,this.canvas.height=648)}},{key:"render",value:function(){var e=this,t=this.state,n=t.canvasContext,o=t.scoreboard;return n&&n.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderTarget(),this.renderBulletHoles(),this.renderCrosshairs(),s.a.createElement(s.a.Fragment,null,s.a.createElement("canvas",{style:{backgroundColor:"gray",cursor:"none"},onMouseDown:this.handleMouseDown,onMouseEnter:this.startTrackingMousePos,onMouseLeave:this.stopTrackingMousePos,ref:function(t){return e.canvas=t}}),s.a.createElement("ol",null,o.map(function(t){return s.a.createElement("li",null,"Player ID: ".concat(t," ").concat(t===e.state.myID?"<--- You":""))})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[35,1,2]]]);
//# sourceMappingURL=main.1f5b5dcf.chunk.js.map